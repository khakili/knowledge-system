# pidstat

	pidstat是sysstat工具的一个命令，用于监控全部或指定进程的cpu、内存、线程、设备IO等系统资源的占用情况。
	
	pidstat首次运行时显示自系统启动开始的各项统计信息，之后运行pidstat将显示自上次运行该命令以后的统计信息。用户可以通过指定统计的次数和时间来获得所需的统计信息。
	
## pidstat -u -p ALL（查看所有进程的 CPU 使用情况）


| PID   |      %usr      |  %system |%guest| %CPU  | CPU  |Command|
|:----------:|:-------------:|:------:|:-----:|:------:|:-----:|:-----:|
|进程ID|进程在用户空间占用cpu的百分比|进程在内核空间占用cpu的百分比|进程在虚拟机占用cpu的百分比|进程占用cpu的百分比|处理进程的cpu编号|当前进程对应的命令|

## pidstat -r（内存使用情况统计）

| PID   |      Minflt/s      |  Majflt/s |VSZ| RSS  | Command|
|:----------:|:-------------:|:------:|:-----:|:------:|:-----:|
|进程ID|任务每秒发生的次要错误，不需要从磁盘中加载页|任务每秒发生的主要错误，需要从磁盘中加载页|虚拟地址大小，虚拟内存的使用KB|常驻集合大小，非交换区五里内存使用KB|命令|

## pidstat -d（显示各个进程的IO使用情况）

| PID   |    kB_rd/s    |  kB_wr/s |kB_ccwr/s| COMMAND |
|:----------:|:-------------:|:------:|:-----:|:------:|
|进程ID|每秒从磁盘读取的KB|每秒写入磁盘KB|任务取消的写入磁盘的KB。当任务截断脏的pagecache的时候会发生。|命令|

## pidstat -w -p pid（显示每个进程的上下文切换情况）

| PID   |    Cswch/s    | Nvcswch/s| COMMAND |
|:----------:|:-------------:|:------:|:------:|
|进程ID|每秒主动任务上下文切换数量|每秒被动任务上下文切换数量|命令|

## pidstat -t -p pid（显示选择任务的线程的统计信息外的额外信息）

| TGID   |    tid    | %usr|%system|%guest|%CPU| CPU| COMMAND |
|:----------:|:-------------:|:------:|:------:|:------:|:------:|:------:|:------:|
|主线程的表示|线程id|进程在用户空间占用cpu的百分比|进程在内核空间占用cpu的百分比|进程在虚拟机占用cpu的百分比|进程占用cpu的百分比|处理进程的cpu编号|命令|

## pidstat -T

|可选项|描述|
|:--:|:--:|
|TASK|表示报告独立的task|
| CHILD |表示报告进程下所有线程统计信息。|
| ALL |报告独立的task和task下面的所有线程。|

!> 注意：task和子线程的全局的统计信息和pidstat选项无关。这些统计信息不会对应到当前的统计间隔，这些统计信息只有在子线程kill或者完成的时候才会被收集。

| PID   |   Usr-ms    | System-ms| Guest-ms|COMMAND |
|:----------:|:-------------:|:------:|:------:|:------:|
|进程ID|任务和子线程在用户级别使用的毫秒数。|任务和子线程在系统级别使用的毫秒数。|任务和子线程在虚拟机(running a virtual processor)使用的毫秒数。|命令|